{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vitto/Documents/PERSONAL/intern/meyd-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vitto/Documents/PERSONAL/intern/meyd-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vitto/Documents/PERSONAL/intern/meyd-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useEffect}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{useState}from\"react\";import\"./maker.scss\";import axios from\"axios\";import ReactQuill from\"react-quill\";import'react-quill/dist/quill.snow.css';import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Submission(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setJob=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),template_params=_useState4[0],setTemplateParams=_useState4[1];var location=useLocation();var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),err=_useState6[0],setError=_useState6[1];var postId=location.pathname.split(\"/\")[2];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),cost=_useState10[0],setCost=_useState10[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();var templateParams={reply_to:post.email_address,to_name:post.first_name+\" \"+post.last_name,message:message,cost:cost};console.log(templateParams);emailjs.send('service_ohzkr9u','template_lzii547',templateParams,'nU9i0WcIZCiN5Ms-C').then(function(response){console.log('SUCCESS!',response);setTemplateParams({reply_to:'',to_name:'',message:'',cost:\"0\"});navigate(\"/success-request\");},function(error){// console.log('FAILED...', error);\nsetError(\"Error :\"+error);});};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/posts/\".concat(postId));case 3:res=_context.sent;setJob(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[postId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-job\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section__title\",children:\"MEYD.IT\"}),/*#__PURE__*/_jsx(\"span\",{className:\"section__subtitle\",children:\"fashion made especially for you\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobs\",id:\"jobs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__column \",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/upload/\".concat(post.images),className:\"sample_img \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__info\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"home_heading\",children:[\"JOB ID NUMBER # \",post.id]}),/*#__PURE__*/_jsxs(\"span\",{className:\"job__title\",name:\"user_name\",children:[post.first_name,\" \",post.last_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Type of clothing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item jobs__text-item\",children:post.clothing_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Budget\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"jobs__details-item jobs__text-item\",children:[post.budget,\" AUD\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item jobs__text-item\",name:\"user_email\",children:post.email_address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"jobs__details-item jobs__text-item\",children:[post.street_num,\" \",post.streetname,\" , \",post.state_name,\" \",post.post_code]})]})]})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"description-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item\",children:post.description})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"job_submission\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section__subtitle2\",children:\"Submit a request\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Maker Cost\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setCost(e.target.value);},className:\"maker-cost\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ReactQuill,{className:\"editor\",theme:\"snow\",name:\"message\",onChange:setMessage,value:message})]}),err&&/*#__PURE__*/_jsx(\"p\",{className:\"input-text error\",children:err}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"email-submit\",children:\"submit\"})]})]});}export default Submission;","map":{"version":3,"names":["React","useEffect","useLocation","useNavigate","useState","axios","ReactQuill","emailjs","jsx","_jsx","jsxs","_jsxs","Submission","_useState","_useState2","_slicedToArray","post","setJob","_useState3","_useState4","template_params","setTemplateParams","location","_useState5","_useState6","err","setError","postId","pathname","split","_useState7","_useState8","message","setMessage","_useState9","_useState10","cost","setCost","navigate","handleSubmit","e","preventDefault","templateParams","reply_to","email_address","to_name","first_name","last_name","console","log","send","then","response","error","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","stop","apply","arguments","className","children","id","src","images","name","clothing_type","budget","street_num","streetname","state_name","post_code","description","type","onChange","target","value","theme","onClick"],"sources":["/Users/vitto/Documents/PERSONAL/intern/meyd-project/client/src/pages/Maker/Submission.jsx"],"sourcesContent":["import { React, useEffect } from \"react\";\nimport { useLocation , useNavigate} from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"./maker.scss\";\nimport axios from \"axios\";\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport emailjs from 'emailjs-com';\n\n\n\n\n\nfunction Submission() {\n  const [post, setJob] = useState([]);\n  const [template_params, setTemplateParams] = useState();\n  const location = useLocation();\n  const[err,setError] = useState(null)\n  const postId = location.pathname.split(\"/\")[2];\n  const [message, setMessage] = useState();\n  const [cost, setCost] = useState();\n\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    \n    e.preventDefault();\n\n    const templateParams = {\n      reply_to : post.email_address,\n      to_name : post.first_name + \" \" +post.last_name,\n      message : message,\n      cost : cost\n    }\n \n    console.log(templateParams);\n\n    \n \n    emailjs.send('service_ohzkr9u', 'template_lzii547', templateParams, 'nU9i0WcIZCiN5Ms-C')\n      .then(response => {\n        console.log('SUCCESS!', response);\n        setTemplateParams({\n          reply_to: '',\n          to_name: '',\n          message: '',\n          cost:\"0\"\n        });\n        navigate(\"/success-request\")\n    \n      }, error => {\n        // console.log('FAILED...', error);\n        setError(\"Error :\"+error);\n      });\n  }\n  \n\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`/posts/${postId}`);\n        setJob(res.data);\n  \n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [postId]);\n\n  return (\n    <div className=\"container-job\">\n      <h2 className=\"section__title\">MEYD.IT</h2>\n      <span className=\"section__subtitle\">fashion made especially for you</span>\n      <div className=\"jobs\" id=\"jobs\">\n        <div className=\"jobs__item\">\n          <div className=\"jobs__column \">\n            <img src={`/upload/${post.images}`} className=\"sample_img \"></img>\n\n            <div className=\"jobs__info\">\n              <h5 className=\"home_heading\">JOB ID NUMBER # {post.id}</h5>\n            \n              <span className=\"job__title\" name=\"user_name\">\n                {post.first_name} {post.last_name}\n              </span>\n              <br></br>\n              <br></br>\n              \n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Type of clothing</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.clothing_type}\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Budget</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.budget} AUD\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Email Address</p>\n                <p className=\"jobs__details-item jobs__text-item\" name=\"user_email\">\n                  {post.email_address}\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Location</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.street_num} {post.streetname} , {post.state_name}{\" \"}\n                  {post.post_code}\n                </p>\n              </div>\n            </div>\n          </div>\n          <h4 className=\"description-label\">Description</h4>\n          <p className=\"jobs__details-item\">{post.description}</p>\n        </div>\n        {/* <h2 className=\"section__title\">Submit a request :</h2>   */}\n\n        <section className=\"job_submission\" >\n          <h3 className=\"section__subtitle2\">Submit a request</h3>\n          <br></br>\n          <div className=\"job-label-cont\">\n      \n                <p className=\"label-job\">Maker Cost</p>\n             \n                <input type=\"number\"  onChange={(e)=>setCost(e.target.value)} className=\"maker-cost\"></input>\n          </div>\n          <br></br>\n          <ReactQuill className=\"editor\" theme=\"snow\" name=\"message\" onChange= {setMessage} value={message}></ReactQuill>\n        </section>\n        {err && <p className=\"input-text error\">{err}</p>}\n        <button type=\"submit\" onClick={handleSubmit} className=\"email-submit\">submit</button>\n\n        \n      </div>\n    </div>\n  );\n}\n\nexport default Submission;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}