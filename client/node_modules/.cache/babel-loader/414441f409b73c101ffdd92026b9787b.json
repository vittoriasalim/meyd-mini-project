{"ast":null,"code":"import _defineProperty from\"/Users/vitto/Documents/PERSONAL/intern/user-stories/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/vitto/Documents/PERSONAL/intern/user-stories/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vitto/Documents/PERSONAL/intern/user-stories/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/vitto/Documents/PERSONAL/intern/user-stories/client/node_modules/@babel/runtime/regenerator/index.js\";import{React,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import{useState}from\"react\";import\"./maker.scss\";import axios from\"axios\";import ReactQuill from\"react-quill\";import\"react-quill/dist/quill.snow.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Submission(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setJob=_useState2[1];var location=useLocation();var postId=location.pathname.split(\"/\")[2];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(message);setEmail(post.email_address);e.preventDefault();_context.prev=3;setLoading(true);_context.next=7;return axios.post(\"/api/email\",{email:email,message:message});case 7:_yield$axios$post=_context.sent;data=_yield$axios$post.data;_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);setLoading(false);// console.log(\"error\");\ncase 14:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/posts/\".concat(postId));case 3:res=_context2.sent;setJob(res.data);console.log(res.data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[postId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-job\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section__title\",children:\"MEYD.IT\"}),/*#__PURE__*/_jsx(\"span\",{className:\"section__subtitle\",children:\"fashion made especially for you\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobs\",id:\"jobs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__column \",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/upload/\".concat(post.images),className:\"sample_img \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobs__info\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"home_heading\",children:[\"JOB ID NUMBER # \",post.id]}),/*#__PURE__*/_jsxs(\"span\",{className:\"job__title\",children:[post.first_name,\" \",post.last_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Type of clothing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item jobs__text-item\",children:post.clothing_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Budget\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"jobs__details-item jobs__text-item\",children:[post.budget,\" AUD\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item jobs__text-item\",children:post.email_address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-label-cont\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label-job\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"jobs__details-item jobs__text-item\",children:[post.street_num,\" \",post.streetname,\" , \",post.state_name,\" \",post.post_code]})]})]})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"description-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobs__details-item\",children:post.description})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"job_submission\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section__subtitle2\",children:\"Submit a request\"}),/*#__PURE__*/_jsx(ReactQuill,_defineProperty({className:\"editor\",theme:\"snow\",onChange:function onChange(e){return setMessage(e.target.value);},value:\"\"},\"onChange\",\"\")),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"submit\"})]})]})]});}export default Submission;","map":{"version":3,"sources":["/Users/vitto/Documents/PERSONAL/intern/user-stories/client/src/pages/Maker/Submission.jsx"],"names":["React","useEffect","useLocation","useState","axios","ReactQuill","Submission","post","setJob","location","postId","pathname","split","message","setMessage","loading","setLoading","email","setEmail","submitHandler","e","console","log","email_address","preventDefault","data","fetchData","get","res","images","id","first_name","last_name","clothing_type","budget","street_num","streetname","state_name","post_code","description","target","value"],"mappings":"qkBAAA,OAASA,KAAT,CAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,aAAvB,CACA,MAAO,iCAAP,C,wFAIA,QAASC,CAAAA,UAAT,EAAsB,CACpB,cAAuBH,QAAQ,CAAC,EAAD,CAA/B,wCAAOI,IAAP,eAAaC,MAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,CAAAA,MAAM,CAAGD,QAAQ,CAACE,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAf,CACA,eAA8BT,QAAQ,EAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAA+BX,QAAQ,CAAC,KAAD,CAAvC,yCAAOY,OAAP,eAAiBC,UAAjB,eACA,eAA0Bb,QAAQ,EAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,CAAP,6IACpBC,OAAO,CAACC,GAAR,CAAYT,OAAZ,EACAK,QAAQ,CAACX,IAAI,CAACgB,aAAN,CAAR,CACAH,CAAC,CAACI,cAAF,GAHoB,gBAKlBR,UAAU,CAAC,IAAD,CAAV,CALkB,sBAMGZ,CAAAA,KAAK,CAACG,IAAN,cAAwB,CAC3CU,KAAK,CAALA,KAD2C,CAE3CJ,OAAO,CAAPA,OAF2C,CAAxB,CANH,wCAMXY,IANW,mBAMXA,IANW,kFAYlBT,UAAU,CAAC,KAAD,CAAV,CACA;AAbkB,qEAAH,kBAAbG,CAAAA,aAAa,4CAAnB,CAoBAlB,SAAS,CAAC,UAAM,CACd,GAAMyB,CAAAA,SAAS,2FAAG,wLAEItB,CAAAA,KAAK,CAACuB,GAAN,kBAAoBjB,MAApB,EAFJ,QAERkB,GAFQ,gBAGdpB,MAAM,CAACoB,GAAG,CAACH,IAAL,CAAN,CACAJ,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACH,IAAhB,EAJc,mFAMdJ,OAAO,CAACC,GAAR,eANc,sEAAH,kBAATI,CAAAA,SAAS,2CAAf,CASAA,SAAS,GACV,CAXQ,CAWN,CAAChB,MAAD,CAXM,CAAT,CAaA,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,qBADF,cAEE,aAAM,SAAS,CAAC,mBAAhB,6CAFF,cAGE,aAAK,SAAS,CAAC,MAAf,CAAsB,EAAE,CAAC,MAAzB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,GAAG,mBAAaH,IAAI,CAACsB,MAAlB,CAAR,CAAoC,SAAS,CAAC,aAA9C,EADF,cAGE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAI,SAAS,CAAC,cAAd,8BAA8CtB,IAAI,CAACuB,EAAnD,GADF,cAIE,cAAM,SAAS,CAAC,YAAhB,WACGvB,IAAI,CAACwB,UADR,KACqBxB,IAAI,CAACyB,SAD1B,GAJF,cAOE,aAPF,cAQE,aARF,cAUE,aAAK,SAAS,CAAC,gBAAf,wBACE,UAAG,SAAS,CAAC,WAAb,8BADF,cAEE,UAAG,SAAS,CAAC,oCAAb,UACGzB,IAAI,CAAC0B,aADR,EAFF,GAVF,cAgBE,aAAK,SAAS,CAAC,gBAAf,wBACE,UAAG,SAAS,CAAC,WAAb,oBADF,cAEE,WAAG,SAAS,CAAC,oCAAb,WACG1B,IAAI,CAAC2B,MADR,UAFF,GAhBF,cAsBE,aAAK,SAAS,CAAC,gBAAf,wBACE,UAAG,SAAS,CAAC,WAAb,2BADF,cAEE,UAAG,SAAS,CAAC,oCAAb,UACG3B,IAAI,CAACgB,aADR,EAFF,GAtBF,cA4BE,aAAK,SAAS,CAAC,gBAAf,wBACE,UAAG,SAAS,CAAC,WAAb,sBADF,cAEE,WAAG,SAAS,CAAC,oCAAb,WACGhB,IAAI,CAAC4B,UADR,KACqB5B,IAAI,CAAC6B,UAD1B,OACyC7B,IAAI,CAAC8B,UAD9C,CAC0D,GAD1D,CAEG9B,IAAI,CAAC+B,SAFR,GAFF,GA5BF,GAHF,GADF,cAyCE,WAAI,SAAS,CAAC,mBAAd,yBAzCF,cA0CE,UAAG,SAAS,CAAC,oBAAb,UAAmC/B,IAAI,CAACgC,WAAxC,EA1CF,GADF,cA+CE,cAAM,SAAS,CAAC,gBAAhB,wBACE,WAAI,SAAS,CAAC,oBAAd,8BADF,cAEE,KAAC,UAAD,kBAAY,SAAS,CAAC,QAAtB,CAA+B,KAAK,CAAC,MAArC,CAA4C,QAAQ,CAAG,kBAACnB,CAAD,QAAKN,CAAAA,UAAU,CAACM,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf,EAAvD,CAAuF,KAAK,CAAC,EAA7F,aAAyG,EAAzG,EAFF,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,eAAhC,oBAHF,GA/CF,GAHF,GADF,CA2DD,CAED,cAAenC,CAAAA,UAAf","sourcesContent":["import { React, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"./maker.scss\";\nimport axios from \"axios\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\n\n\nfunction Submission() {\n  const [post, setJob] = useState([]);\n  const location = useLocation();\n  const postId = location.pathname.split(\"/\")[2];\n  const [message, setMessage] = useState();\n  const [loading , setLoading] = useState(false);\n  const [email, setEmail] = useState();\n  const submitHandler = async (e) =>{\n    console.log(message);\n    setEmail(post.email_address);\n    e.preventDefault();\n    try{\n      setLoading(true);\n      const {data} = await axios.post(`/api/email`,{\n        email,\n        message\n      });\n      // console.log(\"success\");\n    }catch(err){\n      setLoading(false);\n      // console.log(\"error\");\n  \n    }\n  \n  }\n  \n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`/posts/${postId}`);\n        setJob(res.data);\n        console.log(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [postId]);\n\n  return (\n    <div className=\"container-job\">\n      <h2 className=\"section__title\">MEYD.IT</h2>\n      <span className=\"section__subtitle\">fashion made especially for you</span>\n      <div className=\"jobs\" id=\"jobs\">\n        <div className=\"jobs__item\">\n          <div className=\"jobs__column \">\n            <img src={`/upload/${post.images}`} className=\"sample_img \"></img>\n\n            <div className=\"jobs__info\">\n              <h5 className=\"home_heading\">JOB ID NUMBER # {post.id}</h5>\n              {/* <span className=\"jobs__number\">JOB ID RECORD # {post.id}</span> */}\n\n              <span className=\"job__title\">\n                {post.first_name} {post.last_name}\n              </span>\n              <br></br>\n              <br></br>\n              \n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Type of clothing</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.clothing_type}\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Budget</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.budget} AUD\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Email Address</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.email_address}\n                </p>\n              </div>\n              <div className=\"job-label-cont\">\n                <p className=\"label-job\">Location</p>\n                <p className=\"jobs__details-item jobs__text-item\">\n                  {post.street_num} {post.streetname} , {post.state_name}{\" \"}\n                  {post.post_code}\n                </p>\n              </div>\n            </div>\n          </div>\n          <h4 className=\"description-label\">Description</h4>\n          <p className=\"jobs__details-item\">{post.description}</p>\n        </div>\n        {/* <h2 className=\"section__title\">Submit a request :</h2>   */}\n\n        <form className=\"job_submission\" >\n          <h3 className=\"section__subtitle2\">Submit a request</h3>\n          <ReactQuill className=\"editor\" theme=\"snow\" onChange= {(e)=>setMessage(e.target.value)}value=\"\" onChange=\"\" />\n          <button type=\"submit\" className=\"submit-button\">submit</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Submission;\n"]},"metadata":{},"sourceType":"module"}